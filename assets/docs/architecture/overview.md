# 架构概览

## 设计理念

Petrel框架采用**六层架构设计**，每一层都有明确的职责分工，实现了Flutter Web与Native的无缝融合，支持真正的页面级热更新。

## 架构特点

### 🏗️ 分层清晰
- 每一层都有明确的职责边界
- 层与层之间通过标准接口通信
- 支持独立开发和测试

### 🔄 热更新支持
- 支持页面级别的动态更新
- 无需重新发布应用
- 支持灰度发布和回滚

### 🌐 跨平台兼容
- 支持iOS、Android、Web平台
- 统一的API接口
- 平台特定的优化

## 六层架构

```
┌─────────────────────────────────────┐
│           原生App层                  │
│         (处理原生逻辑)               │
└─────────────────┬───────────────────┘
                  │
┌─────────────────▼───────────────────┐
│           插件层                     │
│      (实现原生插件调用)              │
└─────────────────┬───────────────────┘
                  │
┌─────────────────▼───────────────────┐
│      Flutter Web + Flutter Petrel   │
│    (Web编译代码 + 拦截展示热更页面)   │
└─────────────────┬───────────────────┘
                  │
┌─────────────────▼───────────────────┐
│            Page层                    │
│        (支持热更新的页面)             │
└─────────────────┬───────────────────┘
                  │
┌─────────────────▼───────────────────┐
│            Base层                    │
│        (基础功能和服务)               │
└─────────────────┬───────────────────┘
                  │
┌─────────────────▼───────────────────┐
│           Petrel层                   │
│        (核心热更新引擎)               │
└─────────────────────────────────────┘
```

## 技术优势

### 1. 模块化设计
- 每个页面都是独立的模块
- 支持按需加载和更新
- 减少模块间耦合

### 2. 性能优化
- 增量更新减少下载大小
- 后台下载不影响用户体验
- 智能缓存策略

### 3. 开发效率
- 支持热重载开发
- 统一的开发工具链
- 丰富的调试功能

## 适用场景

- **移动应用开发**：需要频繁更新的应用
- **跨平台项目**：同时支持多个平台的应用
- **快速迭代**：需要快速响应市场变化的项目
- **大型项目**：需要模块化管理的复杂应用

## 下一步

了解更详细的架构信息：
- [六层架构详解](./layers.md)
- [核心组件](./components.md)
- [快速开始](../getting-started/quick-start.md) 